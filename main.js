!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}var r=function(){return e=function e(t,n,r,o){var i=o.handleCardClick,u=o.handleButtonTrash,a=o.handlePopupDelete,l=o.handleCardLike,c=o.handleCardDislike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._link=t.link,this._name=t.name,this._likes=t.likes.length,this._user=r,this._id=t._id,this._cardSelector=n,this._handleCardClick=i,this._handleButtonTrash=u,this._handlePopupDelete=a,this._handleCardLike=l,this._handleCardDislike=c},(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){var e=this;return this._element=this._getTemplate(),this._element.querySelector(".element__image").src=this._link,this._element.querySelector(".element__name").textContent=this._name,this._data.likes.some((function(t){return t._id===e._user._id}))?this._element.querySelector(".element__button-like").classList.add("element__button-like-active"):this._element.querySelector(".element__button-like").classList.remove("element__button-like-active"),0==this._data.likes.length?(this._element.querySelector(".element__likes").textContent=[],this._element.querySelector(".element__button-like").classList.remove("element__button-like-active")):this._element.querySelector(".element__likes").textContent=this._data.likes.length,this._element.querySelector(".element__image").alt="imagen de ".concat(this._name," "),this._element.querySelector(".element__button-like").addEventListener("click",(function(t){e.handleCardLike(t)})),this.handlePopupDelete(),this._handleButtonTrash||this._element.querySelector(".element__button-trash").classList.add("element__button-trash-hide"),this._element.querySelector(".element__button-trash").addEventListener("click",(function(t){e._handlePopupDelete(e._id,(function(){e._element.remove()}))})),this.handleCardClick(),this.handlePopupDelete(),this._element}},{key:"handleCardClick",value:function(e){this._element.querySelector(".element__image").addEventListener("click",this._handleCardClick)}},{key:"handlePopupDelete",value:function(e){this._element.remove()}},{key:"handleCardLike",value:function(e){var t=this;this._data.likes.some((function(e){return e._id===t._user._id}))?this._handleCardDislike(this._id).then((function(n){t._data=n,e.target.classList.remove("element__button-like-active"),0==t._data.likes.length?t._element.querySelector(".element__likes").textContent=[]:t._element.querySelector(".element__likes").textContent=t._data.likes.length})):this._handleCardLike(this._id).then((function(n){t._data=n,e.target.classList.add("element__button-like-active"),t._element.querySelector(".element__likes").textContent=t._data.likes.length}))}}])&&t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}var a=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.popupSelector=t,this._popupCloseButton=this.popupSelector.querySelector(".popup__close-button"),this._handleEscClose=this._handleEscClose.bind(this),this.setEventListeners()},(t=[{key:"open",value:function(){this.popupSelector.classList.add("popup__opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this.popupSelector.classList.remove("popup__opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupCloseButton.addEventListener("click",(function(){e.close()})),this.popupSelector.addEventListener("mousedown",(function(t){t.target.classList.contains("popup")&&e.close()}))}}])&&i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}function f(e,t,n){return t=m(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(null,arguments)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,t,[e]))._popupImage=n.popupSelector.querySelector(".popup__image"),n._popupTitle=n.popupSelector.querySelector(".popup__title-image"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),n=t,r=[{key:"open",value:function(e,n){var r,o,i;(r=t,o=this,i=y(m(1&3?r.prototype:r),"open",o),function(e){return i.apply(o,e)})([]),this._popupImage.src=e,this._popupImage.alt="imagen de ".concat(n," "),this._popupTitle.textContent=n}}],r&&c(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(a);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function _(e){var t=function(e){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}function S(e,t,n){return t=C(t),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,n||[],C(e).constructor):t.apply(e,n))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function k(e,t,n,r){var o=w(C(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(null,arguments)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var P=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),n=t,(r=[{key:"close",value:function(){var e=this.popupSelector.querySelector(".popup__form");k(t,"close",this,3)([]),e.reset()}},{key:"_getInputValues",value:function(){var e={},t=this.popupSelector.querySelector(".popup__form");return Array.from(t.querySelectorAll(".popup__form-input")).forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){k(t,"setEventListeners",this,3)([]),this.popupSelector.querySelector(".popup__form").addEventListener("submit",(function(e){e.preventDefault()}))}}])&&b(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(a);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q(r.key),r)}}function q(e){var t=function(e){if("object"!=j(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}function L(e,t,n){return t=D(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,T()?Reflect.construct(t,n||[],D(e).constructor):t.apply(e,n))}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}function I(e,t,n,r){var o=x(D(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},x.apply(null,arguments)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}var B=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=L(this,t,[e])).setEventListeners(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(t,e),n=t,(r=[{key:"open",value:function(e){I(t,"open",this,3)([]),this._handleDeleteSubmit=e}},{key:"close",value:function(){I(t,"close",this,3)([])}},{key:"setEventListeners",value:function(){var e=this;I(t,"setEventListeners",this,3)([]),this.popupSelector.querySelector(".popup__form").addEventListener("submit",(function(t){t.preventDefault(),e._handleDeleteSubmit()}))}}])&&O(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(a);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function N(e){var t=function(e){if("object"!=U(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:t+""}var V=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t,this._token=n},t=[{key:"_makeRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={headers:{"Content-Type":"application/json",authorization:this._token},method:t};return n&&(r.body=JSON.stringify(n)),fetch("".concat(this._url,"/").concat(e),r).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"getUserInfo",value:function(){return this._makeRequest("users/me")}},{key:"getInitialCards",value:function(){return this._makeRequest("cards")}},{key:"patchUserInfo",value:function(e,t){return this._makeRequest("users/me","PATCH",{name:e,about:t})}},{key:"postNewCard",value:function(e,t){return this._makeRequest("cards","POST",{name:e,link:t})}},{key:"deleteCard",value:function(e){return this._makeRequest("cards/".concat(e),"DELETE",{cardId:e})}},{key:"putLike",value:function(e){return this._makeRequest("cards/likes/".concat(e),"PUT",{cardId:e})}},{key:"deleteLike",value:function(e){return this._makeRequest("cards/likes/".concat(e),"DELETE",{cardId:e})}},{key:"patchUserAvatar",value:function(e){return this._makeRequest("users/me/avatar","PATCH",{avatar:e})}}],t&&A(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H(r.key),r)}}function H(e){var t=function(e){if("object"!=J(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==J(t)?t:t+""}var F=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formConfig=t,this.formSelector=n},(t=[{key:"_showInputError",value:function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.nextElementSibling.classList.add(this.formConfig.inputErrorClass),r.textContent=n,r.classList.add(this.formConfig.errorClass)}},{key:"_hideInputError",value:function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.nextElementSibling.classList.remove(this.formConfig.inputErrorClass),n.classList.remove(this.formConfig.errorClass),n.textContent=""}},{key:"_checkInputValidity",value:function(e,t){t.validity.valid?this._hideInputError(e,t):this._showInputError(e,t,t.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.disabled=!0,t.classList.add(this.formConfig.inactiveButtonClass),t.classList.remove(this.formConfig.activeButtonClass)):(t.disabled=!1,t.classList.remove(this.formConfig.inactiveButtonClass),t.classList.add(this.formConfig.activeButtonClass))}},{key:"_setEventListeners",value:function(e){var t=this,n=Array.from(e.querySelectorAll(this.formConfig.inputSelector)),r=e.querySelector(this.formConfig.submitButtonSelector);this._toggleButtonState(n,r),n.forEach((function(o){o.addEventListener("input",(function(){t._checkInputValidity(e,o),t._toggleButtonState(n,r)}))}))}},{key:"enableValidation",value:function(){var e=this;this.formSelector.addEventListener("submit",(function(e){e.preventDefault()})),Array.from(this.formSelector.querySelectorAll(this.formConfig.fieldsetSelector)).forEach((function(t){e._setEventListeners(t)}))}},{key:"resetValidation",value:function(){var e=this;Array.from(this.formSelector.querySelectorAll(".popup__form-input")).forEach((function(t){t.nextElementSibling.classList.remove("popup__form-input_error");var n=e.formSelector.querySelector(".".concat(t.id,"-error"));n.classList.remove("popup__input-error_active"),n.textContent=""}));var t=this.formSelector.querySelector(".popup__form-button");t.disabled=!0,t.classList.add("popup__form-button_disabled"),t.classList.remove("popup__form-button_active")}}])&&G(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),M=document.querySelector(".profile__button-edit"),z=document.querySelector(".profile__avatar-edit"),K=document.querySelector(".profile__button-add"),Q=document.querySelector(".popup-profile"),W=document.querySelector(".popup-profile-avatar"),X=document.querySelector(".popup-elements"),Y=document.querySelector(".popup-image-fullscreen"),Z=document.querySelector(".popup-delete-card"),$=X.querySelector(".popup__form-title"),ee=X.querySelector(".popup__form-link"),te=X.querySelector(".popup__form-image"),ne=document.querySelector(".popup__form-avatar"),re=document.querySelector(".popup__profile-avatar"),oe=document.querySelector(".elements"),ie=Q.querySelector(".popup__form-profile"),ue=document.querySelector(".profile__name"),ae=document.querySelector(".profile__job"),le=document.querySelector(".popup__form-name"),ce=document.querySelector(".popup__form-job"),se=document.querySelector(".profile__avatar"),fe=document.querySelector(".popup__create-button"),pe=document.querySelector(".popup__delete-button"),ye=document.querySelector(".popup__save-button-avatar"),me=document.querySelector(".popup__save-button-profile"),de=document.querySelectorAll(".spinner"),ve={inputSelector:".popup__form-input",submitButtonSelector:".popup__form-button",inactiveButtonClass:"popup__form-button_disabled",activeButtonClass:"popup__form-button_active",inputErrorClass:"popup__form-input_error",errorClass:"popup__input-error_active",fieldsetSelector:".popup__form-set"},he=new v(Y),be=new P(Q),_e=new P(W),Se=new P(X),ge=new B(Z),ke=new V("https://around.nomoreparties.co/v1/web_es_10","541d0e53-114b-4fb1-9af0-b09c04c191b9"),we=new F(ve,ie),Ce=new F(ve,te),Ee=new F(ve,ne);function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oe(r.key),r)}}function Oe(e){var t=function(e){if("object"!=Pe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pe(t)?t:t+""}var qe=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=n},(t=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"addItemPrep",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderer",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}}])&&je(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ie(r.key),r)}}function Ie(e){var t=function(e){if("object"!=Le(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Le(t)?t:t+""}var xe=function(){return e=function e(t){var n=t.userName,r=t.userJob;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userName=n,this.userJob=r},t=[{key:"getUserInfo",value:function(){this._newUserName=this.userName.textContent,this._newUserJob=this.userJob.textContent}},{key:"setUserInfoForm",value:function(e,t){this.getUserInfo(),e.value=this.userName,t.value=this.userJob}},{key:"setUserInfoProfile",value:function(e,t){this.getUserInfo(),e.textContent=this.userName,t.textContent=this.userJob}}],t&&Te(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function De(e){e?de.forEach((function(e){e.classList.add("spinner__visible")})):de.forEach((function(e){e.classList.remove("spinner__visible")}))}ie.addEventListener("submit",(function(e){e.preventDefault(),me.textContent="Guardando...",ue.textContent=le.value,ae.textContent=ce.value,ke.patchUserInfo(le.value,ce.value).finally((function(){me.textContent="Guardar",be.close()}))})),te.addEventListener("submit",(function(e){e.preventDefault(),fe.textContent="Creando...",ke.postNewCard($.value,ee.value).then((function(e){ke.getUserInfo().then((function(t){var n=new qe({items:[e],renderer:function(e){var o=new r(e,".element__template",t,{handleCardClick:function(){he.open(e.link,e.name)},handleButtonTrash:t._id==e.owner._id,handlePopupDelete:function(e,t){ge.open((function(){pe.textContent="Borrando...",ke.deleteCard(e).then((function(){t(),pe.textContent="¿Estás seguro/a?",ge.close()}))}))},handleCardLike:function(e){return ke.putLike(e)},handleCardDislike:function(e){return ke.deleteLike(e)}}).generateCard();n.addItemPrep(o)}},oe);n.renderer()}))})).finally((function(){fe.textContent="Crear",Se.close()})),te.reset()})),M.addEventListener("click",(function(){be.open(),ke.getUserInfo().then((function(e){new xe({userName:e.name,userJob:e.about}).setUserInfoForm(le,ce)})),we.resetValidation()})),K.addEventListener("click",(function(){Se.open(),Ce.resetValidation()})),z.addEventListener("click",(function(){_e.open(),Ee.resetValidation()})),ne.addEventListener("submit",(function(e){e.preventDefault(),ye.textContent="Guardando...",ke.patchUserAvatar(re.value).finally((function(){ye.textContent="Guardar",_e.close()})),se.src=re.value})),ke.getUserInfo().then((function(e){De(!0),ke.getInitialCards().then((function(t){var n=new qe({items:t,renderer:function(t){var o=new r(t,".element__template",e,{handleCardClick:function(){he.open(t.link,t.name)},handleButtonTrash:e._id==t.owner._id,handlePopupDelete:function(e,t){ge.open((function(){pe.textContent="Borrando...",ke.deleteCard(e).then((function(){t(),pe.textContent="¿Estás seguro/a?",ge.close()}))}))},handleCardLike:function(e){return ke.putLike(e)},handleCardDislike:function(e){return ke.deleteLike(e)}}).generateCard();n.addItem(o)}},oe);n.renderer(),De(!1)}))})),ue.textContent="Cargando...",ae.textContent="Cargando...",ke.getUserInfo().then((function(e){var t=new xe({userName:e.name,userJob:e.about});se.src=e.avatar,t.setUserInfoProfile(ue,ae)})),we.enableValidation(),Ce.enableValidation(),Ee.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxFQUFLMkwsRUFBTSxxQkFBc0J4TCxFQUFNLENBQ3RERSxnQkFBaUIsV0FDZmtLLEdBQVdxQyxLQUFLakIsRUFBSzdLLEtBQU02SyxFQUFLM0ssS0FDbEMsRUFDQVYsa0JBQW1CSCxFQUFLa0IsS0FBT3NLLEVBQUtrQixNQUFNeEwsSUFDMUNkLGtCQUFtQixTQUFDdUcsRUFBUWdHLEdBQzFCbkMsR0FBZ0JpQyxNQUFLLFdBRW5CekMsR0FBYTdILFlBQWMsY0FDM0JzSSxHQUFVbUMsV0FBV2pHLEdBQVE3RCxNQUFLLFdBQ2hDNkosSUFDQTNDLEdBQWE3SCxZQUFjLG1CQUMzQnFJLEdBQWdCaEgsT0FDbEIsR0FDRixHQUNGLEVBQ0FuRCxlQUFnQixTQUFDc0csR0FDZixPQUFPOEQsR0FBVW9DLFFBQVFsRyxFQUMzQixFQUNBckcsa0JBQW1CLFNBQUNxRyxHQUNsQixPQUFPOEQsR0FBVXFDLFdBQVduRyxFQUM5QixJQUV1Qm9HLGVBQ3pCTSxFQUFnQkMsUUFBUWQsRUFDMUIsR0FFRmhELElBRUY2RCxFQUFnQnJDLFdBQ2hCaUIsSUFBYyxFQUNoQixHQUNGLElBSUF2QyxHQUFZdkgsWUFBYyxjQUMxQndILEdBQVd4SCxZQUFjLGNBQ3pCc0ksR0FBVXVCLGNBQWNsSixNQUFLLFNBQUM5QyxHQUM1QixJQUFNdU4sRUFBYyxJQUFJOUIsR0FBUyxDQUMvQkMsU0FBVTFMLEVBQUthLEtBQ2Y4SyxRQUFTM0wsRUFBSzBHLFFBR2hCb0QsR0FBWTVILElBQU1sQyxFQUFLNEcsT0FDdkIyRyxFQUFZQyxtQkFBbUI5RCxHQUFhQyxHQUM5QyxJQUdBZSxHQUFzQitDLG1CQUN0QjlDLEdBQW9COEMsbUJBQ3BCN0MsR0FBcUI2QyxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIHVzZXIsXHJcbiAgICB7XHJcbiAgICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgICAgaGFuZGxlQnV0dG9uVHJhc2gsXHJcbiAgICAgIGhhbmRsZVBvcHVwRGVsZXRlLFxyXG4gICAgICBoYW5kbGVDYXJkTGlrZSxcclxuICAgICAgaGFuZGxlQ2FyZERpc2xpa2UsXHJcbiAgICB9XHJcbiAgKSB7XHJcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzLmxlbmd0aDtcclxuICAgIHRoaXMuX3VzZXIgPSB1c2VyO1xyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUJ1dHRvblRyYXNoID0gaGFuZGxlQnV0dG9uVHJhc2g7XHJcbiAgICB0aGlzLl9oYW5kbGVQb3B1cERlbGV0ZSA9IGhhbmRsZVBvcHVwRGVsZXRlO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UgPSBoYW5kbGVDYXJkTGlrZTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmREaXNsaWtlID0gaGFuZGxlQ2FyZERpc2xpa2U7XHJcbiAgfVxyXG4gIC8vQ29waWFyIHRlbXBsYXRlXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcbiAgLy9HZW5lcmFyIFRhcmpldGFcclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIikuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19uYW1lXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICBpZiAodGhpcy5fZGF0YS5saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fdXNlci5faWQpKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b24tbGlrZVwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fYnV0dG9uLWxpa2UtYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2J1dHRvbi1saWtlXCIpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50X19idXR0b24tbGlrZS1hY3RpdmVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX2RhdGEubGlrZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VzXCIpLnRleHRDb250ZW50ID0gW107XHJcbiAgICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b24tbGlrZVwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiZWxlbWVudF9fYnV0dG9uLWxpa2UtYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VzXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgICB0aGlzLl9kYXRhLmxpa2VzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmVsZW1lbnRfX2ltYWdlXCJcclxuICAgICkuYWx0ID0gYGltYWdlbiBkZSAke3RoaXMuX25hbWV9IGA7XHJcbiAgICAvL0xpa2UgYnV0dG9uXHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2J1dHRvbi1saWtlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQ2FyZExpa2UoZXZ0KTtcclxuICAgICAgfSk7XHJcbiAgICAvL1RyYXNoIGJ1dHRvblxyXG4gICAgdGhpcy5oYW5kbGVQb3B1cERlbGV0ZSgpO1xyXG4gICAgaWYgKHRoaXMuX2hhbmRsZUJ1dHRvblRyYXNoKSB7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnV0dG9uLXRyYXNoXCIpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50X19idXR0b24tdHJhc2gtaGlkZVwiKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnV0dG9uLXRyYXNoXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVBvcHVwRGVsZXRlKHRoaXMuX2lkLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIC8vQWJyaXIgcG9wdXAgaW1hZ2VcclxuICAgIHRoaXMuaGFuZGxlQ2FyZENsaWNrKCk7XHJcbiAgICB0aGlzLmhhbmRsZVBvcHVwRGVsZXRlKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbiAgaGFuZGxlQ2FyZENsaWNrKGV2dCkge1xyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNhcmRDbGljayk7XHJcbiAgfVxyXG4gIGhhbmRsZVBvcHVwRGVsZXRlKGV2dCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcbiAgaGFuZGxlQ2FyZExpa2UoZXZ0KSB7XHJcbiAgICBpZiAodGhpcy5fZGF0YS5saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fdXNlci5faWQpKSB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmREaXNsaWtlKHRoaXMuX2lkKS50aGVuKChjYXJkKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IGNhcmQ7XHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiZWxlbWVudF9fYnV0dG9uLWxpa2UtYWN0aXZlXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLl9kYXRhLmxpa2VzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZXNcIikudGV4dENvbnRlbnQgPSBbXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VzXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgICAgICAgdGhpcy5fZGF0YS5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKHRoaXMuX2lkKS50aGVuKChjYXJkKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IGNhcmQ7XHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fYnV0dG9uLWxpa2UtYWN0aXZlXCIpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlc1wiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgICB0aGlzLl9kYXRhLmxpa2VzLmxlbmd0aDtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLnBvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fcG9wdXBDbG9zZUJ1dHRvbiA9IHRoaXMucG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLnBvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcInBvcHVwX19vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnBvcHVwU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwXCIpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLnBvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlID0gdGhpcy5wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3RpdGxlLWltYWdlXCIpO1xyXG4gIH1cclxuICBvcGVuKGxpbmssIG5hbWUpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gYGltYWdlbiBkZSAke25hbWV9IGA7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIGNvbnN0IGZvcm0gPSB0aGlzLnBvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICBmb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICBjb25zdCBmb3JtID0gdGhpcy5wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fZm9ybS1pbnB1dFwiKSkuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICBjb25zdCBmb3JtID0gdGhpcy5wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIG9wZW4oaGFuZGxlRGVsZXRlU3VibWl0KSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVTdWJtaXQgPSBoYW5kbGVEZWxldGVTdWJtaXQ7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5wb3B1cFNlbGVjdG9yXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlU3VibWl0KCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHVybCwgdG9rZW4pIHtcclxuICAgIHRoaXMuX3VybCA9IHVybDtcclxuICAgIHRoaXMuX3Rva2VuID0gdG9rZW47XHJcbiAgfVxyXG4gIF9tYWtlUmVxdWVzdCh1cmksIG1ldGhvZCA9IFwiR0VUXCIsIGJvZHkgPSBudWxsKSB7XHJcbiAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgIH0sXHJcbiAgICAgIG1ldGhvZCxcclxuICAgIH07XHJcbiAgICBpZiAoYm9keSkge1xyXG4gICAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShib2R5KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJlcXVlc3QgPSBmZXRjaChgJHt0aGlzLl91cmx9LyR7dXJpfWAsIG9wdGlvbnMpO1xyXG4gICAgcmV0dXJuIHJlcXVlc3RcclxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX21ha2VSZXF1ZXN0KFwidXNlcnMvbWVcIik7XHJcbiAgfVxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiB0aGlzLl9tYWtlUmVxdWVzdChcImNhcmRzXCIpO1xyXG4gIH1cclxuICBwYXRjaFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWFrZVJlcXVlc3QoXCJ1c2Vycy9tZVwiLCBcIlBBVENIXCIsIHsgbmFtZSwgYWJvdXQgfSk7XHJcbiAgfVxyXG4gIHBvc3ROZXdDYXJkKG5hbWUsIGxpbmspIHtcclxuICAgIHJldHVybiB0aGlzLl9tYWtlUmVxdWVzdChcImNhcmRzXCIsIFwiUE9TVFwiLCB7IG5hbWUsIGxpbmsgfSk7XHJcbiAgfVxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWFrZVJlcXVlc3QoYGNhcmRzLyR7Y2FyZElkfWAsIFwiREVMRVRFXCIsIHsgY2FyZElkIH0pO1xyXG4gIH1cclxuICBwdXRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX21ha2VSZXF1ZXN0KGBjYXJkcy9saWtlcy8ke2NhcmRJZH1gLCBcIlBVVFwiLCB7IGNhcmRJZCB9KTtcclxuICB9XHJcbiAgZGVsZXRlTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLl9tYWtlUmVxdWVzdChgY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwgXCJERUxFVEVcIiwgeyBjYXJkSWQgfSk7XHJcbiAgfVxyXG4gIHBhdGNoVXNlckF2YXRhcihhdmF0YXIpIHtcclxuICAgIHJldHVybiB0aGlzLl9tYWtlUmVxdWVzdChcInVzZXJzL21lL2F2YXRhclwiLCBcIlBBVENIXCIsIHsgYXZhdGFyIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtQ29uZmlnLCBmb3JtU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuZm9ybUNvbmZpZyA9IGZvcm1Db25maWc7XHJcbiAgICB0aGlzLmZvcm1TZWxlY3RvciA9IGZvcm1TZWxlY3RvcjtcclxuICB9XHJcbiAgX3Nob3dJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuYWRkKFxyXG4gICAgICB0aGlzLmZvcm1Db25maWcuaW5wdXRFcnJvckNsYXNzXHJcbiAgICApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5mb3JtQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gIH1cclxuICBfaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICB0aGlzLmZvcm1Db25maWcuaW5wdXRFcnJvckNsYXNzXHJcbiAgICApO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5mb3JtQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihcclxuICAgICAgICBmb3JtRWxlbWVudCxcclxuICAgICAgICBpbnB1dEVsZW1lbnQsXHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcclxuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuZm9ybUNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZm9ybUNvbmZpZy5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmZvcm1Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmZvcm1Db25maWcuYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5mb3JtQ29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuZm9ybUNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5mb3JtU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBmaWVsZHNldExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLmZvcm1TZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuZm9ybUNvbmZpZy5maWVsZHNldFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIGZpZWxkc2V0TGlzdC5mb3JFYWNoKChmaWVsZHNldCkgPT4ge1xyXG4gICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyhmaWVsZHNldCk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5mb3JtU2VsZWN0b3IucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fZm9ybS1pbnB1dFwiKVxyXG4gICAgKTtcclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgIFwicG9wdXBfX2Zvcm0taW5wdXRfZXJyb3JcIlxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLmZvcm1TZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgICApO1xyXG4gICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmVcIik7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLmZvcm1TZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3B1cF9fZm9ybS1idXR0b25cIlxyXG4gICAgKTtcclxuICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2Zvcm0tYnV0dG9uX2Rpc2FibGVkXCIpO1xyXG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX2Zvcm0tYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5cclxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uLWVkaXRcIik7XHJcbmNvbnN0IGF2YXRhckVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1lZGl0XCIpO1xyXG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvbi1hZGRcIik7XHJcbmNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtcHJvZmlsZVwiKTtcclxuY29uc3QgcG9wdXBBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLXByb2ZpbGUtYXZhdGFyXCIpO1xyXG5jb25zdCBwb3B1cEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1lbGVtZW50c1wiKTtcclxuY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtaW1hZ2UtZnVsbHNjcmVlblwiKTtcclxuY29uc3QgcG9wdXBEZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWRlbGV0ZS1jYXJkXCIpO1xyXG5jb25zdCBpbnB1dFRpdGxlID0gcG9wdXBFbGVtZW50cy5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtLXRpdGxlXCIpO1xyXG5jb25zdCBpbnB1dExpbmsgPSBwb3B1cEVsZW1lbnRzLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm0tbGlua1wiKTtcclxuY29uc3QgZWxlbWVudEZvcm0gPSBwb3B1cEVsZW1lbnRzLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm0taW1hZ2VcIik7XHJcbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtLWF2YXRhclwiKTtcclxuY29uc3QgYXZhdGFyTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3Byb2ZpbGUtYXZhdGFyXCIpO1xyXG5jb25zdCBlbGVtZW50c0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpO1xyXG5jb25zdCBwcm9maWxlRm9ybSA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtLXByb2ZpbGVcIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19qb2JcIik7XHJcbmNvbnN0IG5hbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybS1uYW1lXCIpO1xyXG5jb25zdCBqb2JGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybS1qb2JcIik7XHJcbmNvbnN0IGF2YXRhckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XHJcbmNvbnN0IGNyZWF0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NyZWF0ZS1idXR0b25cIik7XHJcbmNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2RlbGV0ZS1idXR0b25cIik7XHJcbmNvbnN0IGF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3NhdmUtYnV0dG9uLWF2YXRhclwiKTtcclxuY29uc3QgcHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3NhdmUtYnV0dG9uLXByb2ZpbGVcIik7XHJcbmNvbnN0IHNwaW5uZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zcGlubmVyXCIpO1xyXG5cclxuY29uc3QgZm9ybUNvbmZpZyA9IHtcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybS1pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybS1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19mb3JtLWJ1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19mb3JtLWJ1dHRvbl9hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2Zvcm0taW5wdXRfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcclxuICBmaWVsZHNldFNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybS1zZXRcIixcclxufTtcclxuXHJcbi8vSW5zdGFuY2lhcyBQb3B1cHNcclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cEltYWdlKTtcclxuY29uc3QgcHJvZmlsZUZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwUHJvZmlsZSk7XHJcbmNvbnN0IGF2YXRhckZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQXZhdGFyKTtcclxuY29uc3QgZWxlbWVudEZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwRWxlbWVudHMpO1xyXG5jb25zdCBkZWxldGVGb3JtUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKHBvcHVwRGVsZXRlKTtcclxuXHJcbi8vaW5zdGFuY2lhIEFwaVxyXG5jb25zdCBhcGlUcmlwbGUgPSBuZXcgQXBpKFxyXG4gIFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMTBcIixcclxuICBcIjU0MWQwZTUzLTExNGItNGZiMS05YWYwLWIwOWMwNGMxOTFiOVwiXHJcbik7XHJcbi8vSW5zdGFuY2lhcyBGb3JtVmFsaWRhdG9yXHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Db25maWcsIHByb2ZpbGVGb3JtKTtcclxuY29uc3QgaW1hZ2VGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Db25maWcsIGVsZW1lbnRGb3JtKTtcclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBhdmF0YXJGb3JtKTtcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIkRpc25leSAsIFVTQVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYwNTQ0Mzc5MTYwNy04MGEyNTlkZDNjM2M/cT04MCZ3PTE5NzQmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkVpZmZlbCAsIEZyYW5jaWFcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MTE3MzkwMDE0ODYtNmJmZTEwY2U3ODVmP3E9ODAmdz0xOTc0JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJGdWVudGUgZGUgVHJldmkgLCBJdGFsaWFcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1OTY2MjcxMTY3OTAtYWY2ZjQ2ZGRkYmRhP3E9ODAmdz0yMDcwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJQdWVibGEgLCBNw6l4aWNvXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjY2OTE4MDU3NTkyLWI5YjljOThmYjk1Mj9xPTgwJnc9MjA2OSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF6aW8gLCBSb21hXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjE0MTE5MTg5MTQ3LWM1NTA3NWNiYTc4MT9xPTgwJnc9MTk3NCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiWXVjYXTDoW4gLCBNw6l4aWNvXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGx1cy51bnNwbGFzaC5jb20vcHJlbWl1bV9waG90by0xNjc2NTE3MzA4OTcwLTk5ZjgxNjE0ZjRmMj9xPTgwJnc9MTk3NCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IHtcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlSm9iLFxyXG4gIG5hbWVGb3JtLFxyXG4gIGpvYkZvcm0sXHJcbiAgcG9wdXBQcm9maWxlLFxyXG4gIHBvcHVwQXZhdGFyLFxyXG4gIGVkaXRCdXR0b24sXHJcbiAgYXZhdGFyRWRpdEJ1dHRvbixcclxuICBwb3B1cEVsZW1lbnRzLFxyXG4gIGFkZEJ1dHRvbixcclxuICBwcm9maWxlRm9ybSxcclxuICBlbGVtZW50c0FyZWEsXHJcbiAgZWxlbWVudEZvcm0sXHJcbiAgYXZhdGFyRm9ybSxcclxuICBhdmF0YXJMaW5rLFxyXG4gIGF2YXRhckltYWdlLFxyXG4gIGlucHV0VGl0bGUsXHJcbiAgaW5wdXRMaW5rLFxyXG4gIHBvcHVwSW1hZ2UsXHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIGZvcm1Db25maWcsXHJcbiAgcG9wdXBEZWxldGUsXHJcbiAgY3JlYXRlQnV0dG9uLFxyXG4gIGRlbGV0ZUJ1dHRvbixcclxuICBhdmF0YXJCdXR0b24sXHJcbiAgcHJvZmlsZUJ1dHRvbixcclxuICBpbWFnZVBvcHVwLFxyXG4gIHByb2ZpbGVGb3JtUG9wdXAsXHJcbiAgYXZhdGFyRm9ybVBvcHVwLFxyXG4gIGVsZW1lbnRGb3JtUG9wdXAsXHJcbiAgZGVsZXRlRm9ybVBvcHVwLFxyXG4gIGFwaVRyaXBsZSxcclxuICBwcm9maWxlRm9ybVZhbGlkYXRpb24sXHJcbiAgaW1hZ2VGb3JtVmFsaWRhdGlvbixcclxuICBhdmF0YXJGb3JtVmFsaWRhdGlvbixcclxuICBzcGlubmVycyxcclxufTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lclNlbGVjdG9yO1xuICB9XG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cbiAgYWRkSXRlbVByZXAoZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gIH1cbiAgcmVuZGVyZXIoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lLCB1c2VySm9iIH0pIHtcclxuICAgIHRoaXMudXNlck5hbWUgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMudXNlckpvYiA9IHVzZXJKb2I7XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgdGhpcy5fbmV3VXNlck5hbWUgPSB0aGlzLnVzZXJOYW1lLnRleHRDb250ZW50O1xyXG4gICAgdGhpcy5fbmV3VXNlckpvYiA9IHRoaXMudXNlckpvYi50ZXh0Q29udGVudDtcclxuICB9XHJcbiAgc2V0VXNlckluZm9Gb3JtKGZvcm1OYW1lLCBmb3JtSm9iKSB7XHJcbiAgICB0aGlzLmdldFVzZXJJbmZvKCk7XHJcbiAgICBmb3JtTmFtZS52YWx1ZSA9IHRoaXMudXNlck5hbWU7XHJcbiAgICBmb3JtSm9iLnZhbHVlID0gdGhpcy51c2VySm9iO1xyXG4gIH1cclxuICBzZXRVc2VySW5mb1Byb2ZpbGUocHJvZmlsZU5hbWUsIHByb2ZpbGVKb2IpIHtcclxuICAgIHRoaXMuZ2V0VXNlckluZm8oKTtcclxuICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdGhpcy51c2VyTmFtZTtcclxuICAgIHByb2ZpbGVKb2IudGV4dENvbnRlbnQgPSB0aGlzLnVzZXJKb2I7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgcHJvZmlsZU5hbWUsXHJcbiAgcHJvZmlsZUpvYixcclxuICBuYW1lRm9ybSxcclxuICBqb2JGb3JtLFxyXG4gIHByb2ZpbGVGb3JtLFxyXG4gIGVsZW1lbnRzQXJlYSxcclxuICBlbGVtZW50Rm9ybSxcclxuICBpbnB1dFRpdGxlLFxyXG4gIGlucHV0TGluayxcclxuICBhZGRCdXR0b24sXHJcbiAgZWRpdEJ1dHRvbixcclxuICBhdmF0YXJFZGl0QnV0dG9uLFxyXG4gIGF2YXRhckZvcm0sXHJcbiAgYXZhdGFyTGluayxcclxuICBhdmF0YXJJbWFnZSxcclxuICBjcmVhdGVCdXR0b24sXHJcbiAgZGVsZXRlQnV0dG9uLFxyXG4gIHByb2ZpbGVCdXR0b24sXHJcbiAgYXZhdGFyQnV0dG9uLFxyXG4gIGFwaVRyaXBsZSxcclxuICBwcm9maWxlRm9ybVBvcHVwLFxyXG4gIHByb2ZpbGVGb3JtVmFsaWRhdGlvbixcclxuICBpbWFnZVBvcHVwLFxyXG4gIGRlbGV0ZUZvcm1Qb3B1cCxcclxuICBhdmF0YXJGb3JtUG9wdXAsXHJcbiAgZWxlbWVudEZvcm1Qb3B1cCxcclxuICBpbWFnZUZvcm1WYWxpZGF0aW9uLFxyXG4gIGF2YXRhckZvcm1WYWxpZGF0aW9uLFxyXG4gIHNwaW5uZXJzLFxyXG59IGZyb20gXCIuL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcblxyXG4vL0Z1bmNpw7NuIGVkaXRhciBwZXJmaWxcclxucHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIC8vRmxhZyBndWFyZGFuZG8gcGVyZmlsXHJcbiAgcHJvZmlsZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiR3VhcmRhbmRvLi4uXCI7XHJcbiAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lRm9ybS52YWx1ZTtcclxuICBwcm9maWxlSm9iLnRleHRDb250ZW50ID0gam9iRm9ybS52YWx1ZTtcclxuICBhcGlUcmlwbGUucGF0Y2hVc2VySW5mbyhuYW1lRm9ybS52YWx1ZSwgam9iRm9ybS52YWx1ZSkuZmluYWxseSgoKSA9PiB7XHJcbiAgICBwcm9maWxlQnV0dG9uLnRleHRDb250ZW50ID0gXCJHdWFyZGFyXCI7XHJcbiAgICBwcm9maWxlRm9ybVBvcHVwLmNsb3NlKCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy9GdW5jacOzbiBhZ3JlZ2FyIHRhcmpldGFcclxuZWxlbWVudEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIC8vRmxhZyBjcmVhbmRvIHRhcmpldGFcclxuICBjcmVhdGVCdXR0b24udGV4dENvbnRlbnQgPSBcIkNyZWFuZG8uLi5cIjtcclxuICBhcGlUcmlwbGVcclxuICAgIC5wb3N0TmV3Q2FyZChpbnB1dFRpdGxlLnZhbHVlLCBpbnB1dExpbmsudmFsdWUpXHJcbiAgICAudGhlbigoY2FyZHMpID0+IHtcclxuICAgICAgYXBpVHJpcGxlLmdldFVzZXJJbmZvKCkudGhlbigodXNlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld0NhcmRFbGVtZW50ID0gbmV3IFNlY3Rpb24oXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGl0ZW1zOiBbY2FyZHNdLFxyXG4gICAgICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgXCIuZWxlbWVudF9fdGVtcGxhdGVcIiwgdXNlciwge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGltYWdlUG9wdXAub3BlbihpdGVtLmxpbmssIGl0ZW0ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlQnV0dG9uVHJhc2g6IHVzZXIuX2lkID09IGl0ZW0ub3duZXIuX2lkLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlUG9wdXBEZWxldGU6IChjYXJkSWQsIGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZUZvcm1Qb3B1cC5vcGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvL0ZsYWcgYm9ycmFyIHRhcmpldGFcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVCdXR0b24udGV4dENvbnRlbnQgPSBcIkJvcnJhbmRvLi4uXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpVHJpcGxlLmRlbGV0ZUNhcmQoY2FyZElkKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGVCdXR0b24udGV4dENvbnRlbnQgPSBcIsK/RXN0w6FzIHNlZ3Vyby9hP1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlRm9ybVBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGhhbmRsZUNhcmRMaWtlOiAoY2FyZElkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlUcmlwbGUucHV0TGlrZShjYXJkSWQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGhhbmRsZUNhcmREaXNsaWtlOiAoY2FyZElkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcGlUcmlwbGUuZGVsZXRlTGlrZShjYXJkSWQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICAgICAgICAgICAgbmV3Q2FyZEVsZW1lbnQuYWRkSXRlbVByZXAoY2FyZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGVsZW1lbnRzQXJlYVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbmV3Q2FyZEVsZW1lbnQucmVuZGVyZXIoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBjcmVhdGVCdXR0b24udGV4dENvbnRlbnQgPSBcIkNyZWFyXCI7XHJcbiAgICAgIGVsZW1lbnRGb3JtUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIGVsZW1lbnRGb3JtLnJlc2V0KCk7XHJcbn0pO1xyXG5cclxuLy9GdW5jacOzbiBhY3R1YWxpemFyIGluZm9ybWFjacOzbiBkZWwgcGVyZmlsXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBwcm9maWxlRm9ybVBvcHVwLm9wZW4oKTtcclxuICBhcGlUcmlwbGUuZ2V0VXNlckluZm8oKS50aGVuKCh1c2VyKSA9PiB7XHJcbiAgICBjb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgICAgIHVzZXJOYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgIHVzZXJKb2I6IHVzZXIuYWJvdXQsXHJcbiAgICB9KTtcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvRm9ybShuYW1lRm9ybSwgam9iRm9ybSk7XHJcbiAgfSk7XHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgZWxlbWVudEZvcm1Qb3B1cC5vcGVuKCk7XHJcbiAgaW1hZ2VGb3JtVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcclxufSk7XHJcbmF2YXRhckVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBhdmF0YXJGb3JtUG9wdXAub3BlbigpO1xyXG4gIGF2YXRhckZvcm1WYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbi8vRnVuY2nDs24gcmVtcGxhemFyIGltYWdlbiBkZSBhdmF0YXJcclxuYXZhdGFyRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgYXZhdGFyQnV0dG9uLnRleHRDb250ZW50ID0gXCJHdWFyZGFuZG8uLi5cIjtcclxuICBhcGlUcmlwbGUucGF0Y2hVc2VyQXZhdGFyKGF2YXRhckxpbmsudmFsdWUpLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgYXZhdGFyQnV0dG9uLnRleHRDb250ZW50ID0gXCJHdWFyZGFyXCI7XHJcbiAgICBhdmF0YXJGb3JtUG9wdXAuY2xvc2UoKTtcclxuICB9KTtcclxuICBhdmF0YXJJbWFnZS5zcmMgPSBhdmF0YXJMaW5rLnZhbHVlO1xyXG59KTtcclxuXHJcbi8vRnVuY2nDs24gYWN0aXZhciBzcGlubmVyXHJcbmZ1bmN0aW9uIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgc3Bpbm5lcnMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzcGlubmVyX192aXNpYmxlXCIpO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNwaW5uZXJzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwic3Bpbm5lcl9fdmlzaWJsZVwiKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgZWxlbWVudHNBcmVhLCByZW5kZXJMb2FkaW5nIH07XHJcbiIsImltcG9ydCBcIi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCB7IGVsZW1lbnRzQXJlYSwgcmVuZGVyTG9hZGluZyB9IGZyb20gXCIuL3NjcmlwdHMvdXRpbHMuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHtcclxuICBwcm9maWxlSm9iLFxyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIGF2YXRhckltYWdlLFxyXG4gIGFwaVRyaXBsZSxcclxuICBwcm9maWxlRm9ybVZhbGlkYXRpb24sXHJcbiAgaW1hZ2VGb3JtVmFsaWRhdGlvbixcclxuICBhdmF0YXJGb3JtVmFsaWRhdGlvbixcclxuICBpbWFnZVBvcHVwLFxyXG4gIGRlbGV0ZUZvcm1Qb3B1cCxcclxuICBkZWxldGVCdXR0b24sXHJcbn0gZnJvbSBcIi4vc2NyaXB0cy91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5cclxuLy9GdW5jacOzbiBjYXJnYXIgaW1hZ2VuZXMgZGUgaW5pY2lvXHJcbmFwaVRyaXBsZS5nZXRVc2VySW5mbygpLnRoZW4oKHVzZXIpID0+IHtcclxuICAvL0ZsYWcgY2FyZ2FyIHRhcmpldGFzXHJcbiAgcmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICBhcGlUcmlwbGUuZ2V0SW5pdGlhbENhcmRzKCkudGhlbigoY2FyZHMpID0+IHtcclxuICAgIGNvbnN0IGRlZmF1bHRDYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlbXM6IGNhcmRzLFxyXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGl0ZW0sIFwiLmVsZW1lbnRfX3RlbXBsYXRlXCIsIHVzZXIsIHtcclxuICAgICAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgaW1hZ2VQb3B1cC5vcGVuKGl0ZW0ubGluaywgaXRlbS5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGFuZGxlQnV0dG9uVHJhc2g6IHVzZXIuX2lkID09IGl0ZW0ub3duZXIuX2lkLFxyXG4gICAgICAgICAgICBoYW5kbGVQb3B1cERlbGV0ZTogKGNhcmRJZCwgY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgICBkZWxldGVGb3JtUG9wdXAub3BlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL0ZsYWcgYm9ycmFyIHRhcmpldGFcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQm9ycmFuZG8uLi5cIjtcclxuICAgICAgICAgICAgICAgIGFwaVRyaXBsZS5kZWxldGVDYXJkKGNhcmRJZCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiwr9Fc3TDoXMgc2VndXJvL2E/XCI7XHJcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZUZvcm1Qb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhhbmRsZUNhcmRMaWtlOiAoY2FyZElkKSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFwaVRyaXBsZS5wdXRMaWtlKGNhcmRJZCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhhbmRsZUNhcmREaXNsaWtlOiAoY2FyZElkKSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFwaVRyaXBsZS5kZWxldGVMaWtlKGNhcmRJZCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgICAgIGRlZmF1bHRDYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBlbGVtZW50c0FyZWFcclxuICAgICk7XHJcbiAgICBkZWZhdWx0Q2FyZExpc3QucmVuZGVyZXIoKTtcclxuICAgIHJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vRnVuY2nDs24gY2FyZ2FyIGluZm9ybWFjacOzbiBkZSB1c3VhcmlvXHJcbi8vRmxhZyBjYXJnYXIgaW5mb3JtYWNpw7NuXHJcbnByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gXCJDYXJnYW5kby4uLlwiO1xyXG5wcm9maWxlSm9iLnRleHRDb250ZW50ID0gXCJDYXJnYW5kby4uLlwiO1xyXG5hcGlUcmlwbGUuZ2V0VXNlckluZm8oKS50aGVuKCh1c2VyKSA9PiB7XHJcbiAgY29uc3QgcHJvZmlsZUluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gICAgdXNlck5hbWU6IHVzZXIubmFtZSxcclxuICAgIHVzZXJKb2I6IHVzZXIuYWJvdXQsXHJcbiAgfSk7XHJcbiAgLy9DYXJnYXIgYXZhdGFyXHJcbiAgYXZhdGFySW1hZ2Uuc3JjID0gdXNlci5hdmF0YXI7XHJcbiAgcHJvZmlsZUluZm8uc2V0VXNlckluZm9Qcm9maWxlKHByb2ZpbGVOYW1lLCBwcm9maWxlSm9iKTtcclxufSk7XHJcblxyXG4vL0FjdGl2YXIgdmFsaWRhY2lvbmVzIGRlIGZvcm11bGFyaW9zXHJcbnByb2ZpbGVGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmltYWdlRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hdmF0YXJGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsInVzZXIiLCJfcmVmIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQnV0dG9uVHJhc2giLCJoYW5kbGVQb3B1cERlbGV0ZSIsImhhbmRsZUNhcmRMaWtlIiwiaGFuZGxlQ2FyZERpc2xpa2UiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2RhdGEiLCJfbGluayIsImxpbmsiLCJfbmFtZSIsIm5hbWUiLCJfbGlrZXMiLCJsaWtlcyIsImxlbmd0aCIsIl91c2VyIiwiX2lkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlQnV0dG9uVHJhc2giLCJfaGFuZGxlUG9wdXBEZWxldGUiLCJfaGFuZGxlQ2FyZExpa2UiLCJfaGFuZGxlQ2FyZERpc2xpa2UiLCJrZXkiLCJ2YWx1ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfdGhpcyIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwic3JjIiwidGV4dENvbnRlbnQiLCJzb21lIiwibGlrZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImFsdCIsImNvbmNhdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJfdGhpczIiLCJ0aGVuIiwiY2FyZCIsInRhcmdldCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cENsb3NlQnV0dG9uIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9jYWxsU3VwZXIiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cFRpdGxlIiwiX2luaGVyaXRzIiwiUG9wdXBXaXRoRm9ybSIsImZvcm0iLCJfc3VwZXJQcm9wR2V0IiwicmVzZXQiLCJpbnB1dFZhbHVlcyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaW5wdXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiaGFuZGxlRGVsZXRlU3VibWl0IiwiX2hhbmRsZURlbGV0ZVN1Ym1pdCIsIkFwaSIsInVybCIsInRva2VuIiwiX3VybCIsIl90b2tlbiIsInVyaSIsIm1ldGhvZCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImJvZHkiLCJvcHRpb25zIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJKU09OIiwic3RyaW5naWZ5IiwiZmV0Y2giLCJyZXNwb25zZSIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIl9tYWtlUmVxdWVzdCIsImFib3V0IiwiY2FyZElkIiwiYXZhdGFyIiwiRm9ybVZhbGlkYXRvciIsImZvcm1Db25maWciLCJmb3JtU2VsZWN0b3IiLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZmllbGRzZXRTZWxlY3RvciIsImZpZWxkc2V0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX3RoaXMzIiwiZWRpdEJ1dHRvbiIsImF2YXRhckVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJwb3B1cFByb2ZpbGUiLCJwb3B1cEF2YXRhciIsInBvcHVwRWxlbWVudHMiLCJwb3B1cEltYWdlIiwicG9wdXBEZWxldGUiLCJpbnB1dFRpdGxlIiwiaW5wdXRMaW5rIiwiZWxlbWVudEZvcm0iLCJhdmF0YXJGb3JtIiwiYXZhdGFyTGluayIsImVsZW1lbnRzQXJlYSIsInByb2ZpbGVGb3JtIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlSm9iIiwibmFtZUZvcm0iLCJqb2JGb3JtIiwiYXZhdGFySW1hZ2UiLCJjcmVhdGVCdXR0b24iLCJkZWxldGVCdXR0b24iLCJhdmF0YXJCdXR0b24iLCJwcm9maWxlQnV0dG9uIiwic3Bpbm5lcnMiLCJpbWFnZVBvcHVwIiwicHJvZmlsZUZvcm1Qb3B1cCIsImF2YXRhckZvcm1Qb3B1cCIsImVsZW1lbnRGb3JtUG9wdXAiLCJkZWxldGVGb3JtUG9wdXAiLCJhcGlUcmlwbGUiLCJwcm9maWxlRm9ybVZhbGlkYXRpb24iLCJpbWFnZUZvcm1WYWxpZGF0aW9uIiwiYXZhdGFyRm9ybVZhbGlkYXRpb24iLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJhcHBlbmQiLCJwcmVwZW5kIiwiaW5uZXJIVE1MIiwiaXRlbSIsIlVzZXJJbmZvIiwidXNlck5hbWUiLCJ1c2VySm9iIiwiX25ld1VzZXJOYW1lIiwiX25ld1VzZXJKb2IiLCJmb3JtTmFtZSIsImZvcm1Kb2IiLCJnZXRVc2VySW5mbyIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJwYXRjaFVzZXJJbmZvIiwiZmluYWxseSIsInBvc3ROZXdDYXJkIiwiY2FyZHMiLCJuZXdDYXJkRWxlbWVudCIsImNhcmRFbGVtZW50Iiwib3BlbiIsIm93bmVyIiwiY2FsbGJhY2siLCJkZWxldGVDYXJkIiwicHV0TGlrZSIsImRlbGV0ZUxpa2UiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtUHJlcCIsInNldFVzZXJJbmZvRm9ybSIsInJlc2V0VmFsaWRhdGlvbiIsInBhdGNoVXNlckF2YXRhciIsImdldEluaXRpYWxDYXJkcyIsImRlZmF1bHRDYXJkTGlzdCIsImFkZEl0ZW0iLCJwcm9maWxlSW5mbyIsInNldFVzZXJJbmZvUHJvZmlsZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9